<div class="login">
  <div class="login__overlay" *ngIf="loading">
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="!loading">
    <h1 class="login__title">Acceso</h1>
    <mat-card class="mat-elevation-z4 login__card">
      <form class="login__form" [formGroup]="loginForm" (ngSubmit)="login()">
        <section>
          <mat-form-field class="full-width" appearance="fill">
            <mat-label class="login__label">Email: </mat-label>
            <input
              matInput
              type="email"
              [formControl]="email"
              required
              placeholder="Ex. pat@example.com"
            />
            <mat-error 
              *ngIf="email.hasError('pattern') && !email.hasError('required')"
            >
              Please enter a valid email address
            </mat-error>
            <mat-error *ngIf="email.hasError('required')">
              Email is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </section>
        <section>
          <mat-form-field class="full-width" appearance="fill">
            <mat-label class="login__label">Password: </mat-label>
            <input matInput type="password" [formControl]="password" required />
            <mat-error *ngIf="password.hasError('required')">
              Password is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="password.hasError('minlength')">
              Password must be greater tha 8 characters
            </mat-error>
            <mat-error *ngIf="password.hasError('maxlength')">
              Password can be max 16 characters long
            </mat-error>
          </mat-form-field>
        </section>
        <section>
          <button
            mat-raised-button
            class="login__btn"
            type="submit"
            [disabled]="!loginForm.valid">
            Acceder
          </button>
        </section>
      </form>
    </mat-card>
  </div>
</div>